{% if section.blocks.size > 0 %}
  <div class="page-width">
    <div class="grid grid--3-col justify-center">
        <div class="grid__item grid align-center">
        {% for block in section.blocks %}
          <div class="grid__item">
          {% case block.type %}
            {% when 'image' %}
              {% assign image = block.settings.image %}
              <figure class="store-logo">
                <img loading="lazy"
                     srcset="{% if image.width >= 50 %}{{ image | image_url: width: 50 }} 50w,{% endif %}
                      {% if image.width >= 80 %}{{ image | image_url: width: 80 }} 80w,{% endif %}
                      {% if image.width >= 100 %}{{ image | image_url: width: 100 }} 100w,{% endif %}
                      {% if image.width >= 150 %}{{ image | image_url: width: 150 }} 150w,{% endif %}
                      {% if image.width >= 200 %}{{ image | image_url: width: 200 }} 200w,{% endif %}
                      {{ image | image_url }} {{ image.width }}w"
                    src="{{ image | image_url: width: 50 }}"
                    width="{{ image.width }}"
                    height="{{ image.height }}"
                  />
              </figure>
            {% when 'newsletter' %}
              {% if block.settings.btn_label %}
                <button class="h4 btn-plain">
                  {{ block.settings.btn_label }}
                </button>
              {% endif %}
            {% when 'pop-up' %}
              {% if block.settings.btn_label %}
              <button class="h4 btn-plain">
                {{ block.settings.btn_label }}
              </button>
              {% endif %}
          {% endcase %}
          </div>
        {% endfor %}
        </div>
    </div>
  </div>
{% endif %}

{% schema %}
  {
    "name": "Custom footer",
    "tag": "footer",
    "class": "custom-footer",
    "settings": [],
    "blocks": [
      {
        "type": "image",
        "name": "Footer's logo",
        "limit": 1,
        "settings": [
          {
            "type": "image_picker",
            "id": "image",
            "label": "Store logo"
          }
        ]
      },
      {
        "type": "newsletter",
        "name": "Newsletter",
        "limit": 1,
        "settings": [
          {
            "type": "text",
            "id": "btn_label",
            "label": "Button label",
            "default": "Newsletter"
          }
        ]
      },
      {
        "type": "pop-up",
        "name": "Pop up",
        "limit": 1,
        "settings": [
          {
            "type": "text",
            "id": "btn_label",
            "label": "Button label",
            "default": "Mission"
          },
          {
            "type": "richtext",
            "id": "content",
            "label": "Pop up content"
          }
        ]
      }
    ]
  }
{% endschema %}
